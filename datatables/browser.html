<!DOCTYPE html>
  <head>
  <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.2/css/jquery.dataTables.css">
  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script type="text/javascript" language="javascript" src="//cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" language="javascript" src="http://jmhollinger.github.io/js/papaparse.min.js"></script>
    <script type="text/javascript">
        function selectdata(dataset)
        {
          if (dataset === "permits") 
            {
          $('#tablearea').html('<h3>Building Permits</h3><p>Below is a table of all building permit issued by the City of Lexington. The table can be sorted by field or searched from the bar in the top right corner.</p><table class="hover" id="example"><thead><tr><th>Date</th><th>Address</th><th>Suite</th><th>Permit Type</th><th>Construction Cost</th><th>Owner</th><th>Contractor</th></tr></thead></table>');
                 $('#example').dataTable( {
                 "order": [ 0, 'desc' ],
                 "deferRender": true,
                 "destroy" : true, 
                 "ajax": "2014/permits.json",
                 "columns": [
                     { "data": "Date_1" },
                     { "data": "Address_1" },
                     { "data": "Suite_1" },
                     { "data": "Type" },
                     { "data": "ConstructionCost_1" },
                     { "data": "Owner_1" },
                     { "data": "Contractor_1" }
                 ]
             } )
            }
          
          else if (dataset === "code") 
            {
                  $('#tablearea').html('<h3>Building Permits</h3><p>Below is a table Code Enforcement cases and their status. The table can be sorted by or searched from the bar in the top right corner.</p>
                    <table class="hover" id="example">
                      <thead>
                        <tr>
                          <th>Date Opened</th>
                          <th>Address</th>
                          <th>Case Type</th>
                          <th>Open/Closed</th>
                          <th>Status</th>
                          <th>Status Date</th>
                        </tr>
                      </thead>
                    </table>');
                 $('#example').dataTable( {
                 "order": [ 0, 'desc' ],
                 "deferRender": true,
                 "destroy" : true, 
                 "ajax": "2014/code.json",
                 "columns": [
                     { "data": "DateOpened_1" },
                     { "data": "Address_1" },
                     { "data": "CaseType" },
                     { "data": "Closed" },
                     { "data": "Status" },
                     { "data": "StatusDate_1" }
                 ]
             } )
            }
          else {}      
        };
  </script>
    </head>
    <body>
     <h1>Please select a dataset to search:</h1>
     <button type="button" onclick="selectdata('permits')">Building Permits</button>
     <button type="button" onclick="selectdata('code')">Code Cases</button>
     <div id="tablearea"></div>
     </body
</html>
